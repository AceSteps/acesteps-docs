/**
 * AceSteps Documentation - Custom Styles
 * Matching Base Docs design system
 */

/* Import fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap');

:root {
  /* Primary colors - Base blue */
  --ifm-color-primary: #3b82f6;
  --ifm-color-primary-dark: #2563eb;
  --ifm-color-primary-darker: #1d4ed8;
  --ifm-color-primary-darkest: #1e40af;
  --ifm-color-primary-light: #60a5fa;
  --ifm-color-primary-lighter: #93c5fd;
  --ifm-color-primary-lightest: #bfdbfe;

  /* Fonts */
  --ifm-font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --ifm-font-family-monospace: 'JetBrains Mono', 'Fira Code', monospace;

  /* Code blocks */
  --ifm-code-font-size: 0.875rem;
  --ifm-code-border-radius: 0.5rem;
  --ifm-code-padding-vertical: 0.1rem;
  --ifm-code-padding-horizontal: 0.3rem;

  /* Sidebar */
  --doc-sidebar-width: 280px;
  --ifm-sidebar-background: transparent;

  /* Highlighted code line */
  --docusaurus-highlighted-code-line-bg: rgba(59, 130, 246, 0.1);
}

/* Dark theme */
[data-theme='dark'] {
  --ifm-background-color: #0a0a0a;
  --ifm-background-surface-color: #141414;
  --ifm-navbar-background-color: #0a0a0a;
  --ifm-footer-background-color: #0a0a0a;
  --ifm-toc-border-color: #27272a;
  --ifm-color-emphasis-300: #27272a;
  --ifm-color-emphasis-600: #a1a1aa;
  --docusaurus-highlighted-code-line-bg: rgba(59, 130, 246, 0.2);
}

/* Light theme */
[data-theme='light'] {
  --ifm-background-color: #ffffff;
  --ifm-background-surface-color: #f4f4f5;
  --ifm-navbar-background-color: #ffffff;
  --ifm-footer-background-color: #fafafa;
  --ifm-toc-border-color: #e4e4e7;
  --ifm-color-emphasis-600: #52525b;
}

/* Navbar styling */
.navbar {
  border-bottom: 1px solid var(--ifm-toc-border-color);
  backdrop-filter: blur(8px);
  box-shadow: none;
}

[data-theme='dark'] .navbar {
  background: rgba(10, 10, 10, 0.8);
}

[data-theme='light'] .navbar {
  background: rgba(255, 255, 255, 0.8);
}

.navbar__title {
  font-weight: 700;
  font-size: 1.125rem;
}

.navbar__link {
  font-weight: 500;
  font-size: 0.875rem;
  white-space: nowrap;
}

.navbar__items {
  flex-wrap: nowrap;
}

.navbar__link:hover {
  color: var(--ifm-color-primary);
}

/* Sidebar styling */
.theme-doc-sidebar-container {
  border-right: 1px solid var(--ifm-toc-border-color);
}

.menu__link {
  font-size: 0.875rem;
  padding: 0.5rem 0.75rem;
  border-radius: 0.375rem;
  transition: background-color 0.15s ease, color 0.15s ease;
}

.menu__link:hover {
  background-color: var(--ifm-background-surface-color);
}

.menu__link--active:not(.menu__link--sublist) {
  background-color: rgba(59, 130, 246, 0.1);
  color: var(--ifm-color-primary);
  font-weight: 500;
}

/* Category labels */
.menu__list-item-collapsible > .menu__link {
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
  color: var(--ifm-color-emphasis-600);
}

/* TOC (On this page) */
.table-of-contents {
  font-size: 0.8125rem;
}

.table-of-contents__link {
  color: var(--ifm-color-emphasis-600);
}

.table-of-contents__link:hover {
  color: var(--ifm-color-primary);
}

.table-of-contents__link--active {
  color: var(--ifm-color-primary);
  font-weight: 500;
}

/* Main content area */
.markdown {
  --ifm-heading-font-weight: 600;
}

.markdown h1 {
  font-size: 2.25rem;
  margin-bottom: 1.5rem;
}

.markdown h2 {
  font-size: 1.5rem;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--ifm-toc-border-color);
}

.markdown h3 {
  font-size: 1.25rem;
  margin-top: 2rem;
}

.markdown p {
  line-height: 1.7;
}

/* Code blocks - Dark mode (keep as is) */
[data-theme='dark'] .prism-code,
[data-theme='dark'] pre {
  background-color: #1a1a1a !important;
  border-radius: 0.5rem;
  font-size: 0.875rem;
}

/* Code blocks - Light mode (white background, dark text) */
[data-theme='light'] .prism-code,
[data-theme='light'] pre {
  background-color: #f8fafc !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  color: #1e293b !important;
}

[data-theme='light'] pre code {
  background-color: transparent !important;
  color: #1e293b !important;
}

[data-theme='light'] .theme-code-block {
  background-color: #f8fafc !important;
  border: 1px solid #e2e8f0 !important;
}

[data-theme='light'] .codeBlockContent_biex,
[data-theme='light'] [class*="codeBlockContent"] {
  background-color: #f8fafc !important;
}

[data-theme='light'] .codeBlockLines_e6Vv,
[data-theme='light'] [class*="codeBlockLines"] {
  background-color: #f8fafc !important;
  color: #1e293b !important;
}

/* Light mode code block title bar */
[data-theme='light'] [class*="codeBlockTitle"] {
  background-color: #e2e8f0 !important;
  color: #1e293b !important;
  border-bottom: 1px solid #cbd5e1 !important;
}

/* Light mode copy button */
[data-theme='light'] .copyButton,
[data-theme='light'] [class*="copyButton"] {
  color: #64748b !important;
}

[data-theme='light'] .copyButton:hover,
[data-theme='light'] [class*="copyButton"]:hover {
  background-color: #e2e8f0 !important;
  color: #1e293b !important;
}

/* Light mode line numbers */
[data-theme='light'] .token-line,
[data-theme='light'] [class*="token-line"] {
  color: #1e293b !important;
}

/* Light mode syntax highlighting tokens */
[data-theme='light'] .token.comment,
[data-theme='light'] .token.prolog,
[data-theme='light'] .token.doctype,
[data-theme='light'] .token.cdata {
  color: #64748b !important;
}

[data-theme='light'] .token.punctuation {
  color: #475569 !important;
}

[data-theme='light'] .token.property,
[data-theme='light'] .token.tag,
[data-theme='light'] .token.boolean,
[data-theme='light'] .token.number,
[data-theme='light'] .token.constant,
[data-theme='light'] .token.symbol {
  color: #0369a1 !important;
}

[data-theme='light'] .token.selector,
[data-theme='light'] .token.attr-name,
[data-theme='light'] .token.string,
[data-theme='light'] .token.char,
[data-theme='light'] .token.builtin {
  color: #059669 !important;
}

[data-theme='light'] .token.operator,
[data-theme='light'] .token.entity,
[data-theme='light'] .token.url,
[data-theme='light'] .token.variable {
  color: #dc2626 !important;
}

[data-theme='light'] .token.atrule,
[data-theme='light'] .token.attr-value,
[data-theme='light'] .token.function,
[data-theme='light'] .token.class-name {
  color: #7c3aed !important;
}

[data-theme='light'] .token.keyword {
  color: #db2777 !important;
}

[data-theme='light'] .token.regex,
[data-theme='light'] .token.important {
  color: #ea580c !important;
}

code {
  background-color: rgba(59, 130, 246, 0.1);
  color: var(--ifm-color-primary);
  padding: 0.125rem 0.375rem;
  border-radius: 0.25rem;
  font-size: 0.875em;
}

/* Admonitions / Callouts */
.alert {
  border-radius: 0.5rem;
  border-left-width: 4px;
  border: none;
  border-left: 4px solid;
}

.alert--info {
  --ifm-alert-background-color: rgba(59, 130, 246, 0.1);
  --ifm-alert-border-color: #3b82f6;
  border-left-color: #3b82f6;
}

.alert--warning {
  --ifm-alert-background-color: rgba(234, 179, 8, 0.1);
  --ifm-alert-border-color: #eab308;
  border-left-color: #eab308;
}

.alert--danger {
  --ifm-alert-background-color: rgba(239, 68, 68, 0.1);
  --ifm-alert-border-color: #ef4444;
  border-left-color: #ef4444;
}

.alert--success {
  --ifm-alert-background-color: rgba(34, 197, 94, 0.1);
  --ifm-alert-border-color: #22c55e;
  border-left-color: #22c55e;
}

/* Tables */
table {
  display: table;
  width: 100%;
  border-collapse: collapse;
}

th, td {
  border: 1px solid var(--ifm-toc-border-color);
  padding: 0.75rem 1rem;
}

th {
  background-color: var(--ifm-background-surface-color);
  font-weight: 600;
  text-align: left;
}

tr:hover {
  background-color: var(--ifm-background-surface-color);
}

/* Breadcrumbs */
.breadcrumbs__link {
  font-size: 0.875rem;
  color: var(--ifm-color-emphasis-600);
}

.breadcrumbs__link:hover {
  color: var(--ifm-color-primary);
}

/* Search */
.DocSearch-Button {
  border-radius: 0.5rem !important;
  background-color: var(--ifm-background-surface-color) !important;
}

/* Footer */
.footer {
  border-top: 1px solid var(--ifm-toc-border-color);
  padding: 3rem 0;
}

.footer__title {
  font-weight: 600;
  font-size: 0.875rem;
}

.footer__link-item {
  font-size: 0.875rem;
  color: var(--ifm-color-emphasis-600);
}

.footer__link-item:hover {
  color: var(--ifm-color-primary);
}

/* Copy button */
.copyButton {
  border-radius: 0.375rem;
  background-color: transparent;
}

.copyButton:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Pagination */
.pagination-nav__link {
  border-radius: 0.5rem;
  border: 1px solid var(--ifm-toc-border-color);
  transition: border-color 0.15s ease;
}

.pagination-nav__link:hover {
  border-color: var(--ifm-color-primary);
}

/* Cards grid for feature pages */
.cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

/* Link styling */
a:hover {
  text-decoration: none;
}

/* Mobile responsive */
@media (max-width: 996px) {
  .navbar__items {
    gap: 0.5rem;
  }

  .markdown h1 {
    font-size: 1.75rem;
  }

  .markdown h2 {
    font-size: 1.25rem;
  }

  .cards-grid {
    grid-template-columns: 1fr;
  }
}

/* Scrollbar styling for dark theme */
[data-theme='dark'] ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

[data-theme='dark'] ::-webkit-scrollbar-track {
  background: #141414;
}

[data-theme='dark'] ::-webkit-scrollbar-thumb {
  background: #27272a;
  border-radius: 4px;
}

[data-theme='dark'] ::-webkit-scrollbar-thumb:hover {
  background: #3f3f46;
}

/* Accessibility - Focus states */
:focus-visible {
  outline: 2px solid var(--ifm-color-primary);
  outline-offset: 2px;
}

/* Skip to content link */
.skipToContent {
  position: absolute;
  left: -9999px;
  z-index: 9999;
  padding: 1rem;
  background: var(--ifm-color-primary);
  color: white;
  border-radius: 0.5rem;
  text-decoration: none;
  font-weight: 600;
}

.skipToContent:focus {
  position: fixed;
  top: 1rem;
  left: 1rem;
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --ifm-color-primary: #0066ff;
  }

  .menu__link--active {
    border-left: 3px solid var(--ifm-color-primary);
  }
}
